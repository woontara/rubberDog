/**
 * YouTube ì¿ í‚¤ ì¶”ì¶œ ë„êµ¬
 * ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì‹¤í–‰í•˜ì—¬ YouTube ì¿ í‚¤ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.
 *
 * ì‚¬ìš©ë²•:
 * 1. YouTubeì— ë¡œê·¸ì¸
 * 2. ì‹œí¬ë¦¿/ê°œì¸ ë¸Œë¼ìš°ì§• ëª¨ë“œì—ì„œ YouTube ë¡œê·¸ì¸
 * 3. https://www.youtube.com/robots.txt ë°©ë¬¸ (ì¤‘ìš”!)
 * 4. F12 -> ì½˜ì†”ì—ì„œ ì´ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
 * 5. ê²°ê³¼ë¥¼ ë³µì‚¬í•˜ì—¬ Lambda í™˜ê²½ë³€ìˆ˜ ë˜ëŠ” API ìš”ì²­ì— ì‚¬ìš©
 */

function extractYouTubeCookies() {
    console.log('ğŸª YouTube ì¿ í‚¤ ì¶”ì¶œ ì‹œì‘...');

    // YouTube ë„ë©”ì¸ì˜ ëª¨ë“  ì¿ í‚¤ ê°€ì ¸ì˜¤ê¸°
    const cookies = document.cookie.split(';').map(cookie => {
        const [name, value] = cookie.trim().split('=');
        return `youtube.com\tTRUE\t/\tFALSE\t0\t${name}\t${value || ''}`;
    }).join('\n');

    // Netscape í˜•ì‹ìœ¼ë¡œ ë³€í™˜
    const netscapeCookies = `# Netscape HTTP Cookie File
# Generated by YouTube Cookie Extractor
# This file contains the HTTP cookies for youtube.com

${cookies}`;

    console.log('âœ… ì¿ í‚¤ ì¶”ì¶œ ì™„ë£Œ!');
    console.log('\nğŸ“‹ ì•„ë˜ ë‚´ìš©ì„ ë³µì‚¬í•˜ì„¸ìš”:');
    console.log('=====================================');
    console.log(netscapeCookies);
    console.log('=====================================');

    // í´ë¦½ë³´ë“œì— ë³µì‚¬ ì‹œë„
    try {
        navigator.clipboard.writeText(netscapeCookies);
        console.log('âœ… í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
    } catch (error) {
        console.log('âš ï¸  í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨. ìˆ˜ë™ìœ¼ë¡œ ë³µì‚¬í•´ì£¼ì„¸ìš”.');
    }

    return netscapeCookies;
}

function extractSimpleCookies() {
    console.log('ğŸª ê°„ë‹¨í•œ ì¿ í‚¤ ì¶”ì¶œ...');

    const cookies = document.cookie;
    console.log('ğŸ“‹ ì¿ í‚¤ ë¬¸ìì—´:');
    console.log(cookies);

    try {
        navigator.clipboard.writeText(cookies);
        console.log('âœ… í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
    } catch (error) {
        console.log('âš ï¸  í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨. ìˆ˜ë™ìœ¼ë¡œ ë³µì‚¬í•´ì£¼ì„¸ìš”.');
    }

    return cookies;
}

// ìë™ ì‹¤í–‰
console.log(`
ğŸš€ YouTube ì¿ í‚¤ ì¶”ì¶œ ë„êµ¬
======================

ë°©ë²• 1: ì „ì²´ ì¿ í‚¤ ì¶”ì¶œ (ê¶Œì¥)
â†’ extractYouTubeCookies()

ë°©ë²• 2: ê°„ë‹¨í•œ ì¿ í‚¤ ì¶”ì¶œ
â†’ extractSimpleCookies()

âš ï¸  ì¤‘ìš” ì‚¬í•­:
1. ì‹œí¬ë¦¿/ê°œì¸ ë¸Œë¼ìš°ì§• ëª¨ë“œ ì‚¬ìš©
2. https://www.youtube.com/robots.txt ë¨¼ì € ë°©ë¬¸
3. ì¶”ì¶œ í›„ ì¦‰ì‹œ ì‹œí¬ë¦¿ ì°½ ë‹«ê¸°
4. ê³„ì • ë³´ì•ˆì„ ìœ„í•´ ì£¼ê¸°ì ìœ¼ë¡œ ìƒˆ ì¿ í‚¤ ìƒì„±

í˜„ì¬ í˜ì´ì§€: ${window.location.href}
`);

// robots.txt í™•ì¸
if (window.location.href.includes('robots.txt')) {
    console.log('âœ… robots.txt í˜ì´ì§€ì—ì„œ ì‹¤í–‰ ì¤‘ - ìµœì ì˜ ì¡°ê±´ì…ë‹ˆë‹¤!');
    console.log('ğŸ“ extractYouTubeCookies() ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”');
} else {
    console.log('âš ï¸  ê¶Œì¥: https://www.youtube.com/robots.txt ì—ì„œ ì‹¤í–‰í•˜ì„¸ìš”');
}